{"ast":null,"code":"import _slicedToArray from\"C:/Users/Pavel/Desktop/portfolio/sto-webs/clients/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import CommentsList from\"./CommentsList\";import styles from\"../styles/Comment.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommentForm=function CommentForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),author=_useState2[0],setAuthor=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),orderNumber=_useState6[0],setOrderNumber=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),content=_useState8[0],setContent=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),day=_useState10[0],setDay=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),starRate=_useState12[0],setStarRate=_useState12[1];useEffect(function(){var date=new Date();var day=date.getDate();var month=date.getMonth()+1;var year=date.getFullYear();var formattedDate;if(date.getMonth()+1<10){formattedDate=\"\".concat(day,\".0\").concat(month,\".\").concat(year);}else if(date.getDate()<10){formattedDate=\"0\".concat(day,\".\").concat(month,\".\").concat(year);}else{formattedDate=\"\".concat(day,\".\").concat(month,\".\").concat(year);}setDay(formattedDate);},[]);var handleSubmit=function handleSubmit(event){event.preventDefault();fetch(\"http://localhost:5001/comments\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({author:author,content:content,day:day,starRate:starRate})}).then(function(response){return response.json();}).then(function(data){console.log(data.message);// Вывод сообщения об успешном создании комментария\nsetAuthor(\"\");setContent(\"\");}).catch(function(error){return console.error(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:styles.comment_form,children:[/*#__PURE__*/_jsx(CommentsList,{}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0417\\u0430\\u043B\\u0438\\u0448\\u0438\\u0442\\u0438 \\u0432\\u0456\\u0434\\u0433\\u0443\\u043A\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.rating,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"clr1\",onChange:function onChange(){return setStarRate(5);},style:{\"--c\":\"#ff9933\"}}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"clr1\",onChange:function onChange(){return setStarRate(4);},style:{\"--c\":\"#ff9933\"}}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"clr1\",onChange:function onChange(){return setStarRate(3);},style:{\"--c\":\"#ff9933\"}}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"clr1\",onChange:function onChange(){return setStarRate(2);},style:{\"--c\":\"#ff9933\"}}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"clr1\",onChange:function onChange(){return setStarRate(1);},style:{\"--c\":\"#ff9933\"}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0406\\u043C'\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:author,onChange:function onChange(event){return setAuthor(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email (\\u043D\\u0435 \\u0431\\u0443\\u0434\\u0435 \\u043E\\u043F\\u0443\\u0431\\u043B\\u0456\\u043A\\u043E\\u0432\\u0430\\u043D\\u0438\\u0439):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0437\\u0430\\u043A\\u0430\\u0437-\\u043D\\u0430\\u0440\\u044F\\u0434\\u0430:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:orderNumber,onChange:function onChange(event){return setOrderNumber(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:function onChange(event){return setContent(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.form__button,type:\"submit\",children:\"\\u0412\\u0456\\u0434\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0438\"})]})]});};export default CommentForm;","map":{"version":3,"names":["React","useState","useEffect","CommentsList","styles","jsx","_jsx","jsxs","_jsxs","CommentForm","_useState","_useState2","_slicedToArray","author","setAuthor","_useState3","_useState4","email","setEmail","_useState5","_useState6","orderNumber","setOrderNumber","_useState7","_useState8","content","setContent","_useState9","_useState10","day","setDay","_useState11","_useState12","starRate","setStarRate","date","Date","getDate","month","getMonth","year","getFullYear","formattedDate","concat","handleSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","message","catch","error","className","comment_form","children","onSubmit","container","rating","type","name","onChange","style","form__inputs","value","target","form__button"],"sources":["C:/Users/Pavel/Desktop/portfolio/sto-webs/clients/src/components/Comments/CommentForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport CommentsList from \"./CommentsList\";\r\nimport styles from \"../styles/Comment.module.css\";\r\n\r\nconst CommentForm = () => {\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [orderNumber, setOrderNumber] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [day, setDay] = useState(\"\");\r\n  const [starRate, setStarRate] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const date = new Date();\r\n    const day = date.getDate();\r\n    const month = date.getMonth() + 1;\r\n    const year = date.getFullYear();\r\n    let formattedDate;\r\n\r\n    if (date.getMonth() + 1 < 10) {\r\n      formattedDate = `${day}.0${month}.${year}`;\r\n    } else if (date.getDate() < 10) {\r\n      formattedDate = `0${day}.${month}.${year}`;\r\n    } else {\r\n      formattedDate = `${day}.${month}.${year}`;\r\n    }\r\n\r\n    setDay(formattedDate);\r\n  }, []);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    fetch(\"http://localhost:5001/comments\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ author, content, day, starRate }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data.message); // Вывод сообщения об успешном создании комментария\r\n        setAuthor(\"\");\r\n        setContent(\"\");\r\n      })\r\n      .catch((error) => console.error(error));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.comment_form}>\r\n      <CommentsList />\r\n      <h2>Залишити відгук</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className={styles.container}>\r\n          <div className={styles.rating}>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"clr1\"\r\n              onChange={() => setStarRate(5)}\r\n              style={{ \"--c\": \"#ff9933\" }}\r\n            />\r\n            <input\r\n              type=\"radio\"\r\n              name=\"clr1\"\r\n              onChange={() => setStarRate(4)}\r\n              style={{ \"--c\": \"#ff9933\" }}\r\n            />\r\n            <input\r\n              type=\"radio\"\r\n              name=\"clr1\"\r\n              onChange={() => setStarRate(3)}\r\n              style={{ \"--c\": \"#ff9933\" }}\r\n            />\r\n            <input\r\n              type=\"radio\"\r\n              name=\"clr1\"\r\n              onChange={() => setStarRate(2)}\r\n              style={{ \"--c\": \"#ff9933\" }}\r\n            />\r\n            <input\r\n              type=\"radio\"\r\n              name=\"clr1\"\r\n              onChange={() => setStarRate(1)}\r\n              style={{ \"--c\": \"#ff9933\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className={styles.form__inputs}>\r\n          <label>Ім'я:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={author}\r\n            onChange={(event) => setAuthor(event.target.value)}\r\n          />\r\n        </div>\r\n        <div className={styles.form__inputs}>\r\n          <label>Email (не буде опублікований):</label>\r\n          <input\r\n            type=\"text\"\r\n            value={email}\r\n            onChange={(event) => setEmail(event.target.value)}\r\n          />\r\n        </div>\r\n        <div className={styles.form__inputs}>\r\n          <label>Номер заказ-наряда:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={orderNumber}\r\n            onChange={(event) => setOrderNumber(event.target.value)}\r\n          />\r\n        </div>\r\n        <div className={styles.form__inputs}>\r\n          <label>Коментар:</label>\r\n          <textarea\r\n            value={content}\r\n            onChange={(event) => setContent(event.target.value)}\r\n          ></textarea>\r\n        </div>\r\n        <button className={styles.form__button} type=\"submit\">Відправити</button>\r\n      </form>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}