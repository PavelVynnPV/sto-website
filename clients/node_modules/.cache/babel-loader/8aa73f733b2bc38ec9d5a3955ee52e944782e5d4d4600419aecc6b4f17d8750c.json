{"ast":null,"code":"import _slicedToArray from\"C:/Users/Pavel/Desktop/portfolio/sto-webs/clients/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import styles from\"../styles/Comment.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReplyForm=function ReplyForm(_ref){var commentId=_ref.commentId,setComments=_ref.setComments;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),author=_useState2[0],setAuthor=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),day=_useState6[0],setDay=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];useEffect(function(){var date=new Date();var day=date.getDate();var month=date.getMonth()+1;var year=date.getFullYear();var formattedDate=\"\".concat(day,\".\").concat(month,\".\").concat(year);setDay(formattedDate);},[]);var handleSubmit=function handleSubmit(event){event.preventDefault();fetch(\"https://sto-web-pv.onrender.com/comments/\".concat(commentId,\"/replies\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({author:author,content:content,day:day,email:email})}).then(function(response){return response.json();}).then(function(data){// Обновление списка комментариев\nsetComments(data.comment.replies);// Сброс полей формы\nsetAuthor(\"\");setContent(\"\");}).catch(function(error){return console.error(error);});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:styles.reply__form,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"\\u0406\\u043C'\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",value:author,onChange:function onChange(event){return setAuthor(event.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",value:email,onChange:function onChange(event){return setEmail(event.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"content\",value:content,onChange:function onChange(event){return setContent(event.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.form__button,type:\"submit\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0432\\u0435\\u0442\"}),\" \"]});};export default ReplyForm;","map":{"version":3,"names":["React","useState","useEffect","styles","jsx","_jsx","jsxs","_jsxs","ReplyForm","_ref","commentId","setComments","_useState","_useState2","_slicedToArray","author","setAuthor","_useState3","_useState4","content","setContent","_useState5","_useState6","day","setDay","_useState7","_useState8","email","setEmail","date","Date","getDate","month","getMonth","year","getFullYear","formattedDate","concat","handleSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","comment","replies","catch","error","console","onSubmit","className","reply__form","children","form__inputs","htmlFor","type","id","value","onChange","target","required","form__button"],"sources":["C:/Users/Pavel/Desktop/portfolio/sto-webs/clients/src/components/Comments/ReplyForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styles from \"../styles/Comment.module.css\";\r\n\r\nconst ReplyForm = ({ commentId, setComments }) => {\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [day, setDay] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const date = new Date();\r\n    const day = date.getDate();\r\n    const month = date.getMonth() + 1;\r\n    const year = date.getFullYear();\r\n    const formattedDate = `${day}.${month}.${year}`;\r\n  \r\n    setDay(formattedDate);\r\n  }, []);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    fetch(`https://sto-web-pv.onrender.com/comments/${commentId}/replies`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ author, content, day, email }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        // Обновление списка комментариев\r\n        setComments(data.comment.replies);\r\n        // Сброс полей формы\r\n        setAuthor(\"\");\r\n        setContent(\"\");\r\n      })\r\n      .catch((error) => console.error(error));\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles.reply__form}>\r\n      <div className={styles.form__inputs}>\r\n        <label htmlFor=\"author\">Ім'я:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"author\"\r\n          value={author}\r\n          onChange={(event) => setAuthor(event.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div className={styles.form__inputs}>\r\n        <label htmlFor=\"email\">Email:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"email\"\r\n          value={email}\r\n          onChange={(event) => setEmail(event.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div className={styles.form__inputs}>\r\n        <label htmlFor=\"content\">Коментар:</label>\r\n        <textarea\r\n          id=\"content\"\r\n          value={content}\r\n          onChange={(event) => setContent(event.target.value)}\r\n          required\r\n        ></textarea>\r\n      </div>\r\n      <button className={styles.form__button} type=\"submit\">Отправить ответ</button>{\" \"}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ReplyForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}