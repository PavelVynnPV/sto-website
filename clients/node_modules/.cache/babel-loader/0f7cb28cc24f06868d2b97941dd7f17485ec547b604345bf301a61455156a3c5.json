{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/portfolio/sto-website/clients/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import styles from\"../styles/Comment.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReplyForm=function ReplyForm(_ref){var commentId=_ref.commentId,setComments=_ref.setComments;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),author=_useState2[0],setAuthor=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),day=_useState6[0],setDay=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isValid=_useState10[0],setIsValid=_useState10[1];useEffect(function(){var date=new Date();var day=date.getDate();var month=date.getMonth()+1;var year=date.getFullYear();var formattedDate=\"\".concat(day,\".\").concat(month,\".\").concat(year);setDay(formattedDate);},[]);var handleEmailChange=function handleEmailChange(event){setEmail(event.target.value);};useEffect(function(){var verifyEmail=function verifyEmail(){// Regular expression pattern for email validation\nvar pattern=/^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$/;// Use the pattern to match the email address\nif(pattern.test(email)){setIsValid(true);}else{setIsValid(false);}};verifyEmail();},[email]);var handleSubmit=function handleSubmit(event){event.preventDefault();fetch(\"https://sto-web-pv.onrender.com/comments/\".concat(commentId,\"/replies\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({author:author,content:content,day:day,email:email})}).then(function(response){return response.json();}).then(function(data){// Обновление списка комментариев\nsetComments(data.comment.replies);// Сброс полей формы\nsetAuthor(\"\");setContent(\"\");setEmail(\"\");}).catch(function(error){return console.error(error);});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:styles.reply__form,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"\\u0406\\u043C'\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",value:author,onChange:function onChange(event){return setAuthor(event.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",value:email,onChange:function onChange(event){setEmail(event.target.value);handleEmailChange(event);},required:true}),!isValid?/*#__PURE__*/_jsx(\"p\",{className:email.length>1?styles.red_error:styles.unActive,children:\"Email \\u0432\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0435\\u0432\\u0456\\u0440\\u043D\\u043E*\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.form__inputs,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"content\",value:content,onChange:function onChange(event){return setContent(event.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.form__button,type:\"submit\",disabled:!isValid,children:\"\\u0412\\u0456\\u0434\\u043F\\u043E\\u0432\\u0456\\u0441\\u0442\\u0438\"}),\" \"]});};export default ReplyForm;","map":{"version":3,"names":["React","useState","useEffect","styles","jsx","_jsx","jsxs","_jsxs","ReplyForm","_ref","commentId","setComments","_useState","_useState2","_slicedToArray","author","setAuthor","_useState3","_useState4","content","setContent","_useState5","_useState6","day","setDay","_useState7","_useState8","email","setEmail","_useState9","_useState10","isValid","setIsValid","date","Date","getDate","month","getMonth","year","getFullYear","formattedDate","concat","handleEmailChange","event","target","value","verifyEmail","pattern","test","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","comment","replies","catch","error","console","onSubmit","className","reply__form","children","form__inputs","htmlFor","type","id","onChange","required","length","red_error","unActive","form__button","disabled"],"sources":["C:/Users/user/Desktop/portfolio/sto-website/clients/src/components/Comments/ReplyForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styles from \"../styles/Comment.module.css\";\r\n\r\nconst ReplyForm = ({ commentId, setComments }) => {\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [day, setDay] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const date = new Date();\r\n    const day = date.getDate();\r\n    const month = date.getMonth() + 1;\r\n    const year = date.getFullYear();\r\n    const formattedDate = `${day}.${month}.${year}`;\r\n\r\n    setDay(formattedDate);\r\n  }, []);\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const verifyEmail = () => {\r\n      // Regular expression pattern for email validation\r\n      const pattern = /^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$/;\r\n  \r\n      // Use the pattern to match the email address\r\n      if (pattern.test(email)) {\r\n        setIsValid(true);\r\n      } else {\r\n        setIsValid(false);\r\n      }\r\n    };\r\n  \r\n    verifyEmail();\r\n  }, [email])\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    fetch(`https://sto-web-pv.onrender.com/comments/${commentId}/replies`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ author, content, day, email }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        // Обновление списка комментариев\r\n        setComments(data.comment.replies);\r\n        // Сброс полей формы\r\n        setAuthor(\"\");\r\n        setContent(\"\");\r\n        setEmail(\"\");\r\n      })\r\n      .catch((error) => console.error(error));\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles.reply__form}>\r\n      <div className={styles.form__inputs}>\r\n        <label htmlFor=\"author\">Ім'я:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"author\"\r\n          value={author}\r\n          onChange={(event) => setAuthor(event.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div className={styles.form__inputs}>\r\n        <label htmlFor=\"email\">Email:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"email\"\r\n          value={email}\r\n          onChange={(event) => {\r\n            setEmail(event.target.value);\r\n            handleEmailChange(event);\r\n          }}\r\n          required\r\n        />\r\n        {!isValid ? (\r\n          <p className={email.length > 1 ? styles.red_error : styles.unActive}>\r\n            Email введений невірно*\r\n          </p>\r\n        ) : null}\r\n      </div>\r\n      <div className={styles.form__inputs}>\r\n        <label htmlFor=\"content\">Коментар:</label>\r\n        <textarea\r\n          id=\"content\"\r\n          value={content}\r\n          onChange={(event) => setContent(event.target.value)}\r\n          required\r\n        ></textarea>\r\n      </div>\r\n      <button className={styles.form__button} type=\"submit\" disabled={!isValid}>\r\n        Відповісти\r\n      </button>{\" \"}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ReplyForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}